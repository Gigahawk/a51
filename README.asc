= README
Tzvetan Mikov <tmikov@gmail.com>

== a51

+a51+ is a portable assembler for 8051, written in C.

== Building

+a51+ builds under Linux and Windows using CMake. It can also be built for DOS with Borland C 3.1 and
Borland Make.

The build produces two main executables +a51+ and +mlink+.

+a51+ is the assembler. +mlink+ is a minilinker used to test the assembler - tt produces a usable binary
from a single object file.

=== Linux and Windows

You will need +CMake+ 2.6 or later. +Bison+ is optionally required for generating the parser, but a
pre-generated parser is included in the source.

To build, enter the project directory and execute the following commands:

----
mkdir output
cd output
cmake -DGENERATE_SRC=0 ..
make
----

To re-generate the Bison parser (and other internal tables), change the +cmake+ command line
above to +-DGENERATE_SRC=1+.

On Windows, omit the last +make+. CMake on Windows generates a Visual Studio project
file, which can be open it with Visual Studio and built normally normally from there. CMake can
also generate an +NMake+ makefile and other formats (see the CMake documentation).

=== DOS

The source includes makefiles for Borland C 3.1 for DOS. They will likely also work with different
Borland C versions, but as of this writing have only been tested with that version (inside DOSBOX).

To build, enter the project directory and execute the following commands:

----
cd mlink
make -f makefile.bc
cd ..
cd src
make -f makefile.bc
----

The option to re-generate the parser and other tables has been disabled in the DOS build
because of practical inability to test it. It requires installing DJGPP and Bison for
DOS, which goes beyond this author's pain threshold.

== License

Copyright (c) 1997-2014 Tzvetan Mikov <tmikov@gmail.com>

+a51+ is licensed under GPL v2. See COPYING.
